{% extends 'Common/CommonMaster.html' %}
{% block content %}
  <form action= ""method="POST" enctype="multipart/form-data">
   {% csrf_token %} 
   {% if err_msg %}
            <div class="alert alert-danger" id="err_msg" style=" width: 320px;margin-top:20px; height :50px">
                <script>
                    document.getElementById('err_msg').innerHTML = '{{err_msg}}'
                    setTimeout(() => {
                        document.getElementById('err_msg').setAttribute('style', 'display:none')
                    },3000)

                </script>

            </div>
            {% endif %}
   {% if err_msg %}
   <div class="alert alert-danger" style="visibility: visible; width: 400px;margin-top:20px; height :50px">{{err_msg}}
   </div>
   {% endif %}
   
   <p style="margin-left: 90px; font-weight: bolder;color:red; font-size: large;">Register Now!</p>
   {% if succ_msg %}
            <div class="alert alert-success" id="succ_msg" style=" width: 320px;margin-top:20px;height: 50px;">
                {{succ_msg}}</div>
            <script>
                document.getElementById('succ_msg').innerHTML = '{{succ_msg}}'
                setTimeout(() => {
                    document.getElementById('succ_msg').setAttribute('style', 'display:none')
                }, 3000)

            </script>

            {% endif %}
        </div>

   <table style="border-collapse: separate; border-spacing: 15px;">
      
      <tr>
           <td>Name</td>
           <td> <input type="text" required name="m_name" id="m_name" class="form-control"></td>
        </tr>
         
          
            <td>Email</td>
            <td><input type="text" required name="m_email" id="m_email" class="form-control"></td>
         </tr> 
         <tr>
            <td>Phone No</td>
            <td><input type="text" required name="m_phno" id="m_phno" class="form-control"></td>
         </tr> 
         <tr>
            <td>Password</td>
            <td><input type="text" required name="m_passwd" id="m_passwd" class="form-control"></td>
         </tr> 
         <tr>
            <td>Confirm Password</td>
            <td><input type="text" required name="m_cpasswd" id="m_cpasswd" class="form-control"></td>
         </tr> 
        
          
      <tr>
         <td></td>
         <td><input type="submit" class="btn btn-primary" value="Register" onclick="return validate()" /> {{msg}}</td>
      </tr>
   </table>


</form>

<script>
   function validate() {
      ph = document.getElementById('m_phno').value
      phno_pattern = /^[6-9]{1}[0-9]{9}$/;
      mail = document.getElementById('m_email').value
      var mail_pattern = /^[A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,4}$/i;
       
      if (mail_pattern.test(mail) == false  ) {
         alert('Please enter valid email.')
         return false;
      }

      if (phno_pattern.test(ph) == false ) {
         alert('Please enter valid phone no.')
         return false
      }
   }
</script>
{% endblock %}